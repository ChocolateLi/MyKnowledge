# 系统架构师

## 数据库

需求分析阶段要完成数据字典和数据流图



完整性约束：实体完整性约束（primary key）、参照完整性约束(foreign key)、自定义完整性约束(触发器)。



分解（）是无损连接，并保持函数依赖？



关系代数运算和表达式？

[关系代数运算和表达式](https://blog.csdn.net/qq_34246965/article/details/115960424)

自然连接表示两个关系表中有相同名称的属性(列)，则自动作为关联条件，会去除重复的列。

等值连接，取两者笛卡尔积中属性值相等的元组，不会去重重复的。

R X S:表示等值连接，表示笛卡积，不去除重复的列。

R 蝴蝶 S：表示自然连接，会去除重复的列。



数据库设计阶段分为四个阶段：

需求分析：需求说明文档、数据字典、数据流图

概念结构

逻辑结构

物理结构



嵌入式数据库系统，一般只提供本机服务接口，只为前端应用提供基本的数据支持。支持实时数据的管理，同时也支持多线程并发操作。



商业智能一般由数据仓库、联机分析处理、数据挖掘、数据备份和恢复等部分组成。



分布式数据库包括分片透明、复制透明、位置透明和逻辑透明

分片透明：用户不需要知道逻辑上访问的表具体是怎么分块存储的。

复制透明：不需要知道数据是复制到哪些节点

位置透明：不需要知道数据存放的物理位置

逻辑透明：不需要知道局部场地上使用的是哪种数据模型。



数据的转储分为静态转储和动态转储、海量转储和增量转储。

静态转储和动态转储：

1.静态转储不允许对数据库进行任何操作

2.动态转储允许对数据库进行操作，转储和事务可并发执行

海量转储和增量存储：

1.海量转储指每次转储全部数据

2.增量转储指每次只转储上次转储后更新过的数据



## 计算机网络

DAS(Direct-Attached Storage)：直连式存储系统，将存储设备连接到服务器上。也可以称SAS(Server-Attached Storage 服务器附加存储)，不带任何存储操作系统。

NAS(Network Attached Storage)：网络接入存储，将存储设备连接到现有网络上，可以直接联网，支持即插即用。不再通过I/O总线附属于某个特定的服务器，直接通过网络相连，用户通过网络访问。有自己的操作系统

SAN(Storage Area Network)：存储区域网络，是一种连接存储设备和存储管理子系统的专用网络。通过专用高速网将一个或多个网络存储设备和服务器连接起来的专用存储系统。采用数据块的方式进行数据和信息的存储。主要使用于以太网(IPSAN)和光纤通道(FCSAN)。



大型局域网划分为

核心层：高速转发通信、可靠性、性能、吞吐要求高，需要双机冗余热备份

汇聚层：网络访问策略控制、数据包处理、过滤、寻址

接入层：直接面向用户连接，负责一下用户管理的工作

![](D:\github\MyKnowledgeRepository\img\ruankao\网络设计.png)



**常见网络协议**

IEEE802.3/.2协议是数据链路层协议，局域网协议。

应用层协议：

FTP(文件传输协议)：运行在TCP上，21端口号传递控制信息，20端口号传递内容。

TFTP(简单文件传输协议)：建立在UDP上

HTTP(超文本传输协议)：建立在TCP上

DNS(域名解析)：使用UDP协议，端口号53



网络层协议：

IP、ICMP(网际控制报文协议)、IGMP(网际组管理协议)、ARP(地址解析协议)、RARP(反地址解析协议)

IP是无连接的、不可靠的

IP地址两部组成：网络号+主机号

A类地址：政府使用，1~126，规定以0开头的

B类地址：企业使用，128~191，规定以10开头

C类地址：普通老百姓使用，192~223，规定以110开头

D类地址：组播地址，以1110开头



为了避免IP地址的浪费，创造出了三级IP地址：网络号+子网号+主机号

子网号是从主机号当中借出来的。

子网和超网属于层次化地址编码。

![](D:\github\MyKnowledgeRepository\img\ruankao\子网和子网掩码.png)

![](D:\github\MyKnowledgeRepository\img\ruankao\子网计算.png)

与运算：1&1=1，其他都是0。

例题中，前27位如果一样那就在同一网段，不一样就不再同一网段。

除2取余法



IPv6是一个或一组接口的标识符，是分配到接口，而不是分配给结点。

有三种类型：单播、组播、任意播

ip6无状态自动配置过程中，会将MAC地址附加在地址前缀11111111010之后，产生一个链路本地地址。

区分服务：ip4根据服务类型、ip6根据通信类型。



直连路由管理距离为0，静态路由管理距离为1

路由管理距离小于外部BGP(20)的路由信息是比较可靠的。



**网络互联设备**

![](D:\github\MyKnowledgeRepository\img\ruankao\网络互联设备.png)



**综合布线系统**

![](D:\github\MyKnowledgeRepository\img\ruankao\综合布线系统.png)

工作区子系统：连接插座的

水平子系统：同一楼层，一端连接插座，一端连接跳线架上。功能：将垂直的子系统延申到工作区，或者将用户区系统引至到管理子系统

管理子系统：管理水平和垂直系统的桥梁，同时为同一层组网提供条件

垂直(干线)子系统：

设备间子系统：

建筑间子系统：当前这个楼和其他的楼连接



IDS：入侵检测系统。根据操作行为特征或异常行径来判断。杀毒软件就用到入侵检测系统的原理，通过特征识别病毒。

防火墙：内外网之间的隔离。外网的请求要到内网，必须通过防火墙，它会使用一些规则判断一些恶意行为。但如果攻击来自内网，防火墙就无能为力了。

网闸：一个物理隔离装置。与IDS和防火墙不同，网闸连接的两个网络是不相通的。与内网相连时，会断开与外网的连接，与外网连接时，会断开与内网的连接。分时地与内外网连接，一个时刻只与一个网络连接，保持“物理的分离”。

UTM：一体化安全设备，具备防火墙、入侵检测和网关防病毒功能。



## 操作系统

**存储管理**

分页存储管理：将一个进程的空间地址划分成若干个大小不等的区域，称为页。相应的，将主存空间划分成与页相同大小的若干个物理块，称为块或页框。

![](D:\github\MyKnowledgeRepository\img\ruankao\分页管理.png)

页内地址占12位，页号占20位。

过程：页号通过页表找到对应的物理块号，把块号和块内地址拼接起来就是物理地址。页内地址等于块内地址

计算公式如上



## UNL

**类图：**

![](D:\github\MyKnowledgeRepository\img\ruankao\类图的关系.png)

依赖：是一种使用关系，我开车，就是一种使用关系。在方法中传入了参数

```java
public void drive(Car car){
    car.move();
}
```

关联关系：是一种拥有关系，它使一个类知道另一个类的属性和方法。一个类拥有了另一个类的成员变量

```java
public class person{
    Car car = new Car();
    car.move()
}
```

聚合关系：是关联关系的一种特例。空心菱形。has-a，整体与部分是可分离的。比如汽车发动机是汽车的组成部分，他们之间是可分离的，所以是聚合关系。

组合关系：也是关联关系的一种特例。实心菱形。contains-a，整体与部分是不可分离的。比如人和头、嘴巴是不可分离的，所以是组合关系。



## 设计模式

![](D:\github\MyKnowledgeRepository\img\ruankao\设计模式\设计模式.png)



**工厂方法**

定义一个用于创建对象的接口，让子类决定将哪一个类实例化，使类的实例化延迟到子类。

![](D:\github\MyKnowledgeRepository\img\ruankao\设计模式\工厂方法模式.png)



**抽象工厂模式**

提供一个创建一系列相关的接口，无需指定他们具体的类。

![](D:\github\MyKnowledgeRepository\img\ruankao\设计模式\抽象工厂模式.png)



**建造者模式**

将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示。

典型的kfc儿童套餐包括一个主食、一个辅食、一杯饮料和一个玩具。这些在套餐中可以使不同的，但是组合套餐的过程是相同的。

![](D:\github\MyKnowledgeRepository\img\ruankao\设计模式\建造者模式.png)



**原型模式**

拷贝原型创建对象

![](D:\github\MyKnowledgeRepository\img\ruankao\设计模式\原型模式.png)



**单例模式**

保证一个类只有一个实例



**适配器模式**

将一个类的接口转换成客户希望的另外一个接口。使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。如：电源适配器

![](D:\github\MyKnowledgeRepository\img\ruankao\设计模式\适配器模式.png)



**桥接模式**

将抽象部分与它的实现部分分离，使他们可以独立地变化。

![](D:\github\MyKnowledgeRepository\img\ruankao\设计模式\桥接模式.png)

![](D:\github\MyKnowledgeRepository\img\ruankao\设计模式\桥接模式1.png)



**组合模式**

将对象组合成树形结构。

![](D:\github\MyKnowledgeRepository\img\ruankao\设计模式\组合模式.png)



**装饰器模式**

动态地给一个对象添加一个额外的职责。比生成子类更为灵活

![](D:\github\MyKnowledgeRepository\img\ruankao\设计模式\装饰器模式.png)



**外观模式**

为子系统一组接口提供一个一致的界面。

![](D:\github\MyKnowledgeRepository\img\ruankao\设计模式\外观模式.png)

![](D:\github\MyKnowledgeRepository\img\ruankao\设计模式\外观模式1.png)



**享元模式**

运用共享技术有效地复制大量的细粒度对象。

通过共享技术实现相同或相似对象的重用。



**代理模式**

使用代理对象完成用户的请求，屏蔽用户对真实对象的访问。

代理模式和适配器模式的区别：代理模式和被代理者的接口是同一个，适配器模式是接口不同。



**责任链模式**

让多个对象都有可能接收请求，将这些对象连接成一条链，并且沿着这条链传递请求，直到有对象处理它为止。



**解释器模式**

给定一个语言，定义它的文法，定义一个解释器，解释器解释该语言中的句子。



**模板方法模式**

定义一个操作中算法的骨架，将一些步骤延迟到子类中。



**命令模式**

发出命令的责任和执行命令的责任分割开。可撤销的操作



**迭代器模式**

提供一种方法顺序访问一个聚合对象中各个元素，而无须暴露该对象的内部表示。



**中介者模式**

用一个中介对象来封装一系列的对象交互

![](D:\github\MyKnowledgeRepository\img\ruankao\设计模式\中介者模式.png)



**备忘录模式**

在不破坏封装性的前提下，将对象恢复到原先保存的状态。



**观察者模式**

观察者模式定义了对象间的一种一对多依赖关系，使得每当一个对象改变状态，则所有依赖于它的对象都会得到通知并被自动更新。



**状态模式**

对于对象内部的状态，允许其在不同的状态下，拥有不同的行为，对状态单独封装成类。



**策略模式**

定义了一系列算法，并将每个算法封装起来，使它们可以相互替换，让算法独立于它的客户而独立变化。



**访问者模式**

对于某个对象或一组对象，不同的访问者，产生的结果不同，执行的操作也不同。

























